import _asyncToGenerator from"@babel/runtime/helpers/asyncToGenerator";import _classCallCheck from"@babel/runtime/helpers/classCallCheck";import _createClass from"@babel/runtime/helpers/createClass";import _regeneratorRuntime from"@babel/runtime/regenerator";import"./assets/main.css";var API_key="498f85b6371fd0085d2ad9c9787077ce",button=document.getElementById("button"),clear=document.querySelector(".button2"),results=document.querySelector(".section__results"),API="https://api.openweathermap.org/data/2.5/weather?",GetInfo=function(){function e(){_classCallCheck(this,e)}var t;return _createClass(e,[{key:"fetchInfo",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,a,r;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("text"),e.next=3,fetch("".concat(API,"q=").concat(t.value,"&appid=").concat(API_key));case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,console.log(a),200!==a.cod?((r=document.createElement("div")).innerHTML="\n        <div>\n            <h2> Please, enter a valid name </h2>\n        </div>",results.appendChild(r)):this.showData(a);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"showData",value:function(e){var t=Math.trunc(e.main.temp-273),n=document.createElement("div");n.innerHTML='\n        <div>\n            <h3 class="data--name">'.concat(e.name,", ").concat(e.sys.country,'</h3>\n            <div class= "data--temp">\n                <p class="temp--number">').concat(t,'  <span class="temp--unit">o</span></p>\n            </div>\n            <img class="weather-image" src="http://openweathermap.org/img/w/').concat(e.weather[0].icon,'.png" alt="partly_cloudy">\n            <p class="data--info">').concat(e.weather[0].description,"<br> \n            Humidity: ").concat(e.main.humidity,"</p>\n        </div>"),n.classList.add("results--container"),results.appendChild(n)}}]),e}();button.onclick=function(){(new GetInfo).fetchInfo()},clear.onclick=function(){results.textContent=""};